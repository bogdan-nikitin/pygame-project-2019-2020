# Проект для Я.Лицея по библиотеке pygame

Проект представляет собой игру, написанную на языке Python с использованием библиотеки Pygame. Жанр игры - метроидвания.

Спрайты для игры использовать отсюда https://opengameart.org/content/castle-platformer-assets

## О файле level.json

Данный файл содержит конфигурацию уровней.  
Данные записываются в формате:  

{  
  "firstLevel": "*уровень*",  
  "*уровень1*":  
  {  
    "mapFile": "*путь к карте*",  
    "nextStage": "*следующий уровень*",  
    "music": "*путь к музыке*",  
    "heroPos": [*x*, *y*],  
    "enemies": [['*тип врага*', *параметры*], ...]  
  },  
  "*уровень2*": {...}  
}  

где  
- *уровень* - название уровня, который загрузится первым
- *уровень1* - название уровня, для которого задаётся конфигурация 
(запрещено давать уровню название firstLevel)
- *x* - координата x игрока
- *y* - координата y игрока
- *тип врага* - класс врага
- *параметры* - список параметров, которые передадутся в конструктор класса 
врага. Записываются также, как если бы вы их передали напрямую в Python

Параметры enemies, music, nextLevel можно опустить.

## О файле tile_config.json

Данный файл содержит информацию о тайлах.  
Данные записываются в формате:  

"*номер*": {"isSolid": true/false,  
            "isPlatform": true/false,  
            "leverState": -1/0/1,  
            "damage": *число*,  
            "animation": [*задержка1*, *спрайт2*, *задержка2*...]}  
ИЛИ  
"*начало*:*конец*": {"isSolid": true/false,  
                     "isPlatform": true/false,  
                     "leverState": -1/0/1,  
                     "damage": *число*,  
                     "animation": [*задержка1*, *спрайт2*, *задержка2*...]}
         
Во втором случае всем тайлам, в промежутке от *начало* до *конец*,
присваиваются одинаковые характеристики.  
Некоторые характеристики можно не указывать, тогда им будет выставлено
стандартное значение - false (или 0 для damage и -1 для leverState).  
Тайлы, не объявленные в этом файле,
будут иметь стандартное значение для всех характеристик.

## Редактор уровней - LevelEditor

В консоли:

Команды(в скобках сокращённый вариант):
- open(o) path - открыть карту по пути path  
- new(n) path - создать новую карту по пути path  
- openas(s) path1 path2 - загрузить карту по пути path1
и сохранить её по пути path2  
- resolution(r) w h - изменить разрешение окна редактора на w x h  
- resolution(r) - вывести текущее разрешение  
- quit(q) - закрыть программу  
Если в каком-то аргументе присутствуют пробелы, 
то вписывайте его в двойных кавычках

В редакторе:

- W, A, S, D - перемещение камеры  
- Shift (удерживание) - ускорить перемещение  
- Ctrl + S - сохранить карту  
- E - открыть/закрыть список тайлов  
- ЛКМ - поставить выбранную плитку  
- Средняя кнопка мыши (клик по колёсику) - конфигурация плитки, производится в
консоли  
- ПКМ - удалить плитку
- V - вывести координаты плитки

## В игре

Управление:
- Стрелочки - перемещение, прыжок на стрелку вверх
- Z - ближняя атака
- X - дальняя атака